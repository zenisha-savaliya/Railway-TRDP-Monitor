<div class="page-card">
  <div class="page-header">
    <svg viewBox="0 0 24 24" fill="currentColor">
      <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </svg>
    <h2>Real-time Graphs</h2>
  </div>
  
  <div class="mb-6">
    <label class="block text-sm font-medium mb-3">Select Subsystem</label>
    <div class="subsystem-buttons">
      <button 
        *ngFor="let sub of configuredSubsystemNames"
        [class.active]="selectedSubsystem === sub"
        (click)="selectedSubsystem = sub; updateFilteredSignals()"
        class="btn btn-secondary"
      >
        {{ sub }}
      </button>
    </div>
    <div *ngIf="configuredSubsystemNames.length === 0" class="alert alert-warning">
      <p>No subsystems configured. Please configure subsystems first.</p>
    </div>
  </div>
  
  <div class="mb-6" *ngIf="configuredSubsystemNames.length > 0">
    <label class="block text-sm font-medium mb-3">Select Parameters to Plot</label>
    <div class="parameter-selector">
      <label 
        *ngFor="let signal of getFilteredSignals()"
        [class.checked]="selectedParams.includes(signal.name)"
        class="checkbox-label"
      >
        <input 
          type="checkbox" 
          [checked]="selectedParams.includes(signal.name)"
          (change)="toggleParamSelection(signal.name)"
        />
        <span>{{ signal.name }}</span>
      </label>
    </div>
  </div>
  
  <div *ngIf="selectedParams.length > 0" class="chart-container">
    <canvas baseChart
      [data]="chartData"
      [options]="chartOptions"
      [type]="chartType">
    </canvas>
  </div>
  <div *ngIf="selectedParams.length === 0" class="alert alert-warning">
    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
      <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
    </svg>
    <p>Select parameters above to view real-time graphs</p>
  </div>
</div>
